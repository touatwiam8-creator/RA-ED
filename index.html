<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†Ø§Øª Ø§Ù„Ø°ÙƒÙŠ - Ø£Ø¯ÙˆØ§Øª ØªØ¹Ù„ÙŠÙ…ÙŠØ© Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ===== CSS ÙƒÙ„ Ø´ÙŠØ¡ Ù‡Ù†Ø§ ===== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --primary: #4361ee;
            --secondary: #3a0ca3;
            --accent: #f72585;
            --light: #f8f9fa;
            --dark: #212529;
            --success: #4cc9f0;
            --warning: #ff9e00;
            --gray: #6c757d;
        }
        
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            color: var(--dark);
            min-height: 100vh;
            padding-bottom: 50px;
        }
        
        /* Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ù‚Ù„ */
        .navbar {
            background: white;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            padding: 1rem 2rem;
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary);
        }
        
        .logo i {
            font-size: 2rem;
        }
        
        .nav-links {
            display: flex;
            gap: 2rem;
        }
        
        .nav-links a {
            text-decoration: none;
            color: var(--gray);
            font-weight: 500;
            transition: color 0.3s;
            padding: 8px 16px;
            border-radius: 20px;
        }
        
        .nav-links a:hover, .nav-links a.active {
            color: var(--primary);
            background: rgba(67, 97, 238, 0.1);
        }
        
        /* Ø§Ù„Ø­Ø§ÙˆÙŠØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© */
        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 1rem;
        }
        
        /* Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª */
        .card {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 8px 25px rgba(0,0,0,0.08);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 30px rgba(0,0,0,0.12);
        }
        
        .card h2 {
            color: var(--secondary);
            margin-bottom: 1.5rem;
            border-right: 5px solid var(--accent);
            padding-right: 15px;
        }
        
        /* Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ */
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--dark);
        }
        
        .form-control {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 1rem;
            transition: border 0.3s;
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--primary);
        }
        
        /* Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
        .btn {
            display: inline-block;
            padding: 12px 30px;
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }
        
        .btn:hover {
            background: var(--secondary);
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(67, 97, 238, 0.3);
        }
        
        .btn-accent {
            background: var(--accent);
        }
        
        .btn-accent:hover {
            background: #d1146a;
        }
        
        .btn-success {
            background: var(--success);
        }
        
        /* Ø§Ù„Ø§Ù…ØªØ­Ø§Ù† */
        .question-card {
            background: #f8f9ff;
            border-right: 4px solid var(--primary);
            margin-bottom: 1.5rem;
            animation: fadeIn 0.5s;
        }
        
        .question-number {
            background: var(--primary);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 15px;
            font-weight: bold;
        }
        
        .options {
            display: grid;
            gap: 10px;
            margin-top: 15px;
        }
        
        .option {
            padding: 12px 15px;
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .option:hover {
            border-color: var(--primary);
            background: #f0f4ff;
        }
        
        .option.selected {
            border-color: var(--success);
            background: rgba(76, 201, 240, 0.1);
        }
        
        /* Ù„ÙˆØ­Ø© Ø§Ù„Ù…ØªØµØ¯Ø±ÙŠÙ† */
        .leaderboard-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }
        
        .leaderboard-table th {
            background: var(--primary);
            color: white;
            padding: 15px;
            text-align: center;
        }
        
        .leaderboard-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #eee;
            text-align: center;
        }
        
        .leaderboard-table tr:nth-child(even) {
            background: #f9f9f9;
        }
        
        .rank-1 { color: gold; font-weight: bold; }
        .rank-2 { color: silver; font-weight: bold; }
        .rank-3 { color: #cd7f32; font-weight: bold; }
        
        /* Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ */
        .alert {
            padding: 15px;
            border-radius: 10px;
            margin: 1rem 0;
            display: none;
        }
        
        .alert-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .alert-error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .alert-info {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        
        /* Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª */
        .tabs {
            display: flex;
            border-bottom: 2px solid #e0e0e0;
            margin-bottom: 2rem;
        }
        
        .tab {
            padding: 15px 30px;
            cursor: pointer;
            font-weight: 600;
            color: var(--gray);
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
        }
        
        .tab.active {
            color: var(--primary);
            border-bottom: 3px solid var(--primary);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s;
        }
        
        /* Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ù…ØªØ­Ø±ÙƒØ© */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .pulse {
            animation: pulse 2s infinite;
        }
        
        /* Ù…ØªØ¬Ø§ÙˆØ¨ */
        @media (max-width: 768px) {
            .nav-container {
                flex-direction: column;
                gap: 1rem;
            }
            
            .nav-links {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .container {
                padding: 0 15px;
            }
            
            .card {
                padding: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <!-- ===== HTML ÙƒÙ„ Ø´ÙŠØ¡ Ù‡Ù†Ø§ ===== -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <i class="fas fa-brain"></i>
                <span>Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†Ø§Øª Ø§Ù„Ø°ÙƒÙŠØ©</span>
            </div>
            <div class="nav-links">
                <a href="#" class="active" onclick="showTab('register')">Ø§Ù„ØªØ³Ø¬ÙŠÙ„</a>
                <a href="#" onclick="showTab('exam')">Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†</a>
                <a href="#" onclick="showTab('leaderboard')">Ø§Ù„Ù…ØªØµØ¯Ø±ÙŠÙ†</a>
                <a href="#" onclick="showTab('results')">Ù†ØªØ§Ø¦Ø¬ÙŠ</a>
            </div>
        </div>
    </nav>

    <div class="container">
        <!-- Ø§Ù„Ø±Ø³Ø§Ø¦Ù„ -->
        <div id="message" class="alert"></div>

        <!-- Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª -->
        <div class="tabs">
            <div class="tab active" onclick="showTab('register')">Ø§Ù„ØªØ³Ø¬ÙŠÙ„</div>
            <div class="tab" onclick="showTab('exam')">Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†</div>
            <div class="tab" onclick="showTab('leaderboard')">Ø§Ù„Ù…ØªØµØ¯Ø±ÙŠÙ†</div>
            <div class="tab" onclick="showTab('results')">Ù†ØªØ§Ø¦Ø¬ÙŠ</div>
        </div>

        <!-- ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
        <div id="register-tab" class="tab-content active card">
            <h2><i class="fas fa-user-plus"></i> ØªØ³Ø¬ÙŠÙ„ Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯</h2>
            <div class="form-group">
                <label for="name">Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„:</label>
                <input type="text" id="name" class="form-control" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ">
            </div>
            <div class="form-group">
                <label for="email">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ:</label>
                <input type="email" id="email" class="form-control" placeholder="example@email.com">
            </div>
            <button class="btn" onclick="registerUser()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
            <p style="margin-top: 15px; color: var(--gray);">
                <i class="fas fa-info-circle"></i> Ø¨Ø¹Ø¯ Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ø§Ù…ØªØ­Ø§Ù† Ù…Ø¨Ø§Ø´Ø±Ø©
            </p>
        </div>

        <!-- Ø§Ù„Ø§Ù…ØªØ­Ø§Ù† -->
        <div id="exam-tab" class="tab-content card">
            <h2><i class="fas fa-graduation-cap"></i> Ø§Ù…ØªØ­Ø§Ù† Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</h2>
            <div id="exam-info">
                <p>Ø£Ø¯Ø®Ù„ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ù„Ù„Ø¨Ø¯Ø¡:</p>
                <div class="form-group">
                    <input type="email" id="exam-email" class="form-control" placeholder="Ø£Ø¯Ø®Ù„ Ø¨Ø±ÙŠØ¯Ùƒ Ø§Ù„Ù…Ø³Ø¬Ù„">
                </div>
                <button class="btn" onclick="startExam()">Ø¨Ø¯Ø¡ Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†</button>
            </div>
            <div id="exam-content" style="display: none;">
                <div id="questions-container"></div>
                <div id="exam-controls" style="margin-top: 2rem;">
                    <button class="btn btn-accent" onclick="submitExam()">
                        <i class="fas fa-paper-plane"></i> ØªØ³Ù„ÙŠÙ… Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª
                    </button>
                    <button class="btn" onclick="showTab('register')" style="margin-right: 10px;">
                        <i class="fas fa-arrow-right"></i> Ø§Ù„Ø¹ÙˆØ¯Ø©
                    </button>
                </div>
            </div>
        </div>

        <!-- Ø§Ù„Ù…ØªØµØ¯Ø±ÙŠÙ† -->
        <div id="leaderboard-tab" class="tab-content card">
            <h2><i class="fas fa-trophy"></i> Ù„ÙˆØ­Ø© Ø§Ù„Ù…ØªØµØ¯Ø±ÙŠÙ†</h2>
            <div id="leaderboard-content">
                <p>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù…ØªØµØ¯Ø±ÙŠÙ†...</p>
            </div>
            <button class="btn" onclick="loadLeaderboard()">
                <i class="fas fa-sync-alt"></i> ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©
            </button>
        </div>

        <!-- Ø§Ù„Ù†ØªØ§Ø¦Ø¬ -->
        <div id="results-tab" class="tab-content card">
            <h2><i class="fas fa-chart-line"></i> Ù†ØªØ§Ø¦Ø¬ÙŠ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©</h2>
            <div class="form-group">
                <input type="email" id="results-email" class="form-control" placeholder="Ø£Ø¯Ø®Ù„ Ø¨Ø±ÙŠØ¯Ùƒ Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬">
            </div>
            <button class="btn" onclick="loadMyResults()">Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬</button>
            <div id="my-results" style="margin-top: 2rem;"></div>
        </div>
    </div>

    <!-- ===== JavaScript ÙƒÙ„ Ø´ÙŠØ¡ Ù‡Ù†Ø§ ===== -->
    <script>
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // ğŸ” ğŸ” ğŸ” 1. Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø£Ù…Ø§Ù† - Ø¶Ø¹ Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙƒ Ù‡Ù†Ø§ ÙÙ‚Ø· ğŸ” ğŸ” ğŸ”
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
        // ğŸ”— Ø¶Ø¹ Ø±Ø§Ø¨Ø· Google Apps Script Ù‡Ù†Ø§ (Ø§Ù„Ø±Ø§Ø¨Ø· Ø§Ù„Ø°ÙŠ Ù†Ø³Ø®ØªÙ‡ Ø¨Ø¹Ø¯ Ø§Ù„Ù†Ø´Ø±)
        const GAS_URL = 'Ø¶Ø¹_Ø±Ø§Ø¨Ø·_Google_Apps_Script_Ù‡Ù†Ø§';
        
        // ğŸ”‘ Ø¶Ø¹ Ù…ÙØªØ§Ø­ API Ù„Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù‡Ù†Ø§ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ - Ù„Ù„ØªØµØ­ÙŠØ­ Ø§Ù„Ø°ÙƒÙŠ)
        const AI_API_KEY = 'Ø¶Ø¹_Ù…ÙØªØ§Ø­_API_Ù„Ù„Ø°ÙƒØ§Ø¡_Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ_Ù‡Ù†Ø§';
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // 2. Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
        let currentUser = null;
        let currentExam = [];
        let userAnswers = {};
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // 3. ÙˆØ¸Ø§Ø¦Ù Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
        function showTab(tabName) {
            // Ø¥Ø®ÙØ§Ø¡ ÙƒÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙŠØ§Øª
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Ø¥Ø®ÙØ§Ø¡ ÙƒÙ„ Ø§Ù„ØªØ¨ÙˆÙŠØ¨Ø§Øª
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨
            document.getElementById(`${tabName}-tab`).classList.add('active');
            
            // ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªØ¨ÙˆÙŠØ¨ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨
            document.querySelectorAll('.tab').forEach(tab => {
                if (tab.textContent.includes(getTabTitle(tabName))) {
                    tab.classList.add('active');
                }
            });
            
            // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒÙŠ
            if (tabName === 'leaderboard') {
                loadLeaderboard();
            }
            
            hideMessage();
        }
        
        function getTabTitle(tabName) {
            const titles = {
                'register': 'Ø§Ù„ØªØ³Ø¬ÙŠÙ„',
                'exam': 'Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†',
                'leaderboard': 'Ø§Ù„Ù…ØªØµØ¯Ø±ÙŠÙ†',
                'results': 'Ù†ØªØ§Ø¦Ø¬ÙŠ'
            };
            return titles[tabName] || tabName;
        }
        
        function showMessage(text, type = 'info') {
            const messageDiv = document.getElementById('message');
            messageDiv.textContent = text;
            messageDiv.className = `alert alert-${type}`;
            messageDiv.style.display = 'block';
            
            if (type === 'success') {
                setTimeout(hideMessage, 5000);
            }
        }
        
        function hideMessage() {
            document.getElementById('message').style.display = 'none';
        }
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // 4. ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ Google Apps Script
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
        async function callGAS(action, data = {}) {
            try {
                showMessage('Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©...', 'info');
                
                const response = await fetch(GAS_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({
                        action: action,
                        ...data
                    })
                });
                
                const result = await response.json();
                
                if (result.success === false) {
                    showMessage(result.message || 'Ø­Ø¯Ø« Ø®Ø·Ø£', 'error');
                    return null;
                }
                
                showMessage(result.message || 'ØªÙ…Øª Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø¨Ù†Ø¬Ø§Ø­', 'success');
                return result;
                
            } catch (error) {
                showMessage(`Ø®Ø·Ø£ ÙÙŠ Ø§Ù„Ø§ØªØµØ§Ù„: ${error.message}`, 'error');
                return null;
            }
        }
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // 5. ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
        async function registerUser() {
            const name = document.getElementById('name').value.trim();
            const email = document.getElementById('email').value.trim();
            
            if (!name || !email) {
                showMessage('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„', 'error');
                return;
            }
            
            if (!isValidEmail(email)) {
                showMessage('Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ØºÙŠØ± ØµØ§Ù„Ø­', 'error');
                return;
            }
            
            const result = await callGAS('register', { name, email });
            
            if (result && result.success) {
                currentUser = { name, email };
                document.getElementById('exam-email').value = email;
                document.getElementById('results-email').value = email;
                showTab('exam');
            }
        }
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // 6. ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
        function startExam() {
            const email = document.getElementById('exam-email').value.trim();
            
            if (!email) {
                showMessage('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ', 'error');
                return;
            }
            
            currentUser = { email };
            loadExamQuestions();
        }
        
        function loadExamQuestions() {
            // Ø£Ø³Ø¦Ù„Ø© Ø§Ù…ØªØ­Ø§Ù† Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (Ù…Ø«Ø§Ù„)
            currentExam = [
                {
                    id: 1,
                    question: "Ù…Ø§ Ø¥Ø¹Ø±Ø§Ø¨ ÙƒÙ„Ù…Ø© 'Ø§Ù„Ø·Ø§Ù„Ø¨' ÙÙŠ Ø¬Ù…Ù„Ø© 'Ø¬Ø§Ø¡ Ø§Ù„Ø·Ø§Ù„Ø¨Ù Ù…Ø¨ÙƒØ±Ø§Ù‹'ØŸ",
                    options: [
                        "ÙØ§Ø¹Ù„ Ù…Ø±ÙÙˆØ¹ ÙˆØ¹Ù„Ø§Ù…Ø© Ø±ÙØ¹Ù‡ Ø§Ù„Ø¶Ù…Ø©",
                        "Ù†Ø§Ø¦Ø¨ ÙØ§Ø¹Ù„ Ù…Ø±ÙÙˆØ¹ ÙˆØ¹Ù„Ø§Ù…Ø© Ø±ÙØ¹Ù‡ Ø§Ù„Ø¶Ù…Ø©", 
                        "Ù…ÙØ¹ÙˆÙ„ Ø¨Ù‡ Ù…Ù†ØµÙˆØ¨ ÙˆØ¹Ù„Ø§Ù…Ø© Ù†ØµØ¨Ù‡ Ø§Ù„ÙØªØ­Ø©",
                        "Ù…Ø¨ØªØ¯Ø£ Ù…Ø±ÙÙˆØ¹ ÙˆØ¹Ù„Ø§Ù…Ø© Ø±ÙØ¹Ù‡ Ø§Ù„Ø¶Ù…Ø©"
                    ],
                    correct: 0
                },
                {
                    id: 2, 
                    question: "Ù…Ø§ Ù†ÙˆØ¹ Ø§Ù„Ø£Ø³Ù„ÙˆØ¨ ÙÙŠ Ø¬Ù…Ù„Ø© 'Ù…Ø§ Ø£Ø¬Ù…Ù„Ù Ø§Ù„Ø³Ù…Ø§Ø¡Ù!'ØŸ",
                    options: [
                        "Ø£Ø³Ù„ÙˆØ¨ ØªØ¹Ø¬Ø¨",
                        "Ø£Ø³Ù„ÙˆØ¨ Ø§Ø³ØªÙÙ‡Ø§Ù…",
                        "Ø£Ø³Ù„ÙˆØ¨ Ù†Ø¯Ø§Ø¡",
                        "Ø£Ø³Ù„ÙˆØ¨ Ø£Ù…Ø±"
                    ],
                    correct: 0
                },
                {
                    id: 3,
                    question: "Ø§Ù„Ø¬Ù…Ù„Ø© Ø§Ù„ØªÙŠ ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø§Ø³Ù… Ù…ÙØ¹ÙˆÙ„ Ù‡ÙŠ:",
                    options: [
                        "Ø§Ù„ÙƒØªØ§Ø¨Ù Ù…Ù‚Ø±ÙˆØ¡ÙŒ",
                        "Ø§Ù„Ø·Ø§Ù„Ø¨Ù Ù‚Ø§Ø±Ø¦ÙŒ",
                        "Ø§Ù„Ù…Ø¹Ù„Ù…Ù ÙŠÙ‚Ø±Ø£",
                        "Ø§Ù„Ø¯Ø±Ø³Ù Ø³Ù‡Ù„ÙŒ"
                    ],
                    correct: 0
                },
                {
                    id: 4,
                    question: "Ù…Ø§ Ù…Ø¹Ù†Ù‰ ÙƒÙ„Ù…Ø© 'ÙŠØªØ±Ù†Ù…' ÙÙŠ Ø§Ù„Ø¨ÙŠØª: 'ÙŠØªØ±Ù†Ù… Ø§Ù„Ø¨Ù„Ø¨Ù„Ù ÙÙŠ Ø§Ù„Ø±ÙˆØ¶'ØŸ",
                    options: [
                        "ÙŠØºØ±Ø¯",
                        "ÙŠØ·ÙŠØ±",
                        "ÙŠÙ†Ø§Ù…", 
                        "ÙŠØ£ÙƒÙ„"
                    ],
                    correct: 0
                },
                {
                    id: 5,
                    question: "Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„ØªÙŠ ÙƒØªØ¨Øª ÙƒØªØ§Ø¨Ø© ØµØ­ÙŠØ­Ø© Ù‡ÙŠ:",
                    options: [
                        "Ù…Ø³ØªØ´ÙÙ‰",
                        "Ù…Ø³ØªØ´ÙÙŠ",
                        "Ù…Ø³ØªØ´ÙÙŠÙ‰",
                        "Ù…Ø³ØªØ´ÙØ£Ø©"
                    ],
                    correct: 0
                }
            ];
            
            userAnswers = {};
            
            // Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
            const container = document.getElementById('questions-container');
            container.innerHTML = '';
            
            currentExam.forEach((q, index) => {
                const questionHTML = `
                    <div class="question-card card">
                        <div class="question-number">${index + 1}</div>
                        <h3>${q.question}</h3>
                        <div class="options">
                            ${q.options.map((opt, optIndex) => `
                                <div class="option" onclick="selectAnswer(${q.id}, ${optIndex})" 
                                     id="opt-${q.id}-${optIndex}">
                                    ${String.fromCharCode(1632 + optIndex + 1)}. ${opt}
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
                container.innerHTML += questionHTML;
            });
            
            // Ø¥Ø¸Ù‡Ø§Ø± Ù‚Ø³Ù… Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†
            document.getElementById('exam-info').style.display = 'none';
            document.getElementById('exam-content').style.display = 'block';
            
            showMessage('Ø¨Ø¯Ø£ Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†! Ø§Ø®ØªØ± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„ØµØ­ÙŠØ­Ø©', 'info');
        }
        
        function selectAnswer(questionId, optionIndex) {
            // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªØ­Ø¯ÙŠØ¯ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø®ÙŠØ§Ø±Ø§Øª Ù‡Ø°Ø§ Ø§Ù„Ø³Ø¤Ø§Ù„
            currentExam.find(q => q.id === questionId).options.forEach((_, i) => {
                const optEl = document.getElementById(`opt-${questionId}-${i}`);
                if (optEl) {
                    optEl.classList.remove('selected');
                }
            });
            
            // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø®ÙŠØ§Ø± Ø§Ù„Ù…Ø®ØªØ§Ø±
            const selectedOpt = document.getElementById(`opt-${questionId}-${optionIndex}`);
            selectedOpt.classList.add('selected');
            
            // Ø­ÙØ¸ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø©
            userAnswers[questionId] = optionIndex;
        }
        
        async function submitExam() {
            if (Object.keys(userAnswers).length !== currentExam.length) {
                showMessage('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø¹Ù„Ù‰ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©', 'error');
                return;
            }
            
            // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¯Ø±Ø¬Ø©
            let score = 0;
            currentExam.forEach(q => {
                if (userAnswers[q.id] === q.correct) {
                    score++;
                }
            });
            
            // Ø­ÙØ¸ Ø§Ù„Ù†ØªÙŠØ¬Ø© ÙÙŠ Google Sheets
            if (currentUser && currentUser.email) {
                const result = await callGAS('save_result', {
                    email: currentUser.email,
                    exam: 'Ø§Ù…ØªØ­Ø§Ù† Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©',
                    degree: score
                });
                
                if (result && result.success) {
                    // ØªÙ‚ÙŠÙŠÙ… Ø°ÙƒÙŠ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ (Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ù…ÙØªØ§Ø­ Ù…ÙˆØ¬ÙˆØ¯Ø§Ù‹)
                    if (AI_API_KEY && AI_API_KEY !== 'Ø¶Ø¹_Ù…ÙØªØ§Ø­_API_Ù„Ù„Ø°ÙƒØ§Ø¡_Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ_Ù‡Ù†Ø§') {
                        await evaluateWithAI(score);
                    } else {
                        showMessage(`âœ… Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†! Ø¯Ø±Ø¬ØªÙƒ: ${score}/${currentExam.length}`, 'success');
                    }
                    
                    // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†
                    document.getElementById('exam-info').style.display = 'block';
                    document.getElementById('exam-content').style.display = 'none';
                    
                    // ØªØ­Ø¯ÙŠØ« Ù„ÙˆØ­Ø© Ø§Ù„Ù…ØªØµØ¯Ø±ÙŠÙ†
                    loadLeaderboard();
                }
            } else {
                showMessage('Ù„Ù… ÙŠØªÙ… ØªØ­Ø¯ÙŠØ¯ Ù…Ø³ØªØ®Ø¯Ù…ØŒ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø­ÙØ¸ Ø§Ù„Ù†ØªÙŠØ¬Ø©', 'error');
            }
        }
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // 7. ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ (Ø§Ø®ØªÙŠØ§Ø±ÙŠØ©)
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
        async function evaluateWithAI(score) {
            if (!AI_API_KEY || AI_API_KEY === 'Ø¶Ø¹_Ù…ÙØªØ§Ø­_API_Ù„Ù„Ø°ÙƒØ§Ø¡_Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ_Ù‡Ù†Ø§') {
                return;
            }
            
            try {
                showMessage('ğŸ”„ Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø°ÙƒÙŠ Ù„Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª...', 'info');
                
                // Ù‡Ù†Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¶Ø§ÙØ© Ø§ØªØµØ§Ù„ Ø¨Ù€ OpenAI Ø£Ùˆ DeepSeek API
                // Ù…Ø«Ø§Ù„ (ØªØ¹Ø¯Ù„Ù‡ Ø­Ø³Ø¨ API Ø§Ù„Ø°ÙŠ ØªØ³ØªØ®Ø¯Ù…Ù‡):
                /*
                const response = await fetch('https://api.openai.com/v1/chat/completions', {
                    method: 'POST',
                    headers: {
                        'Authorization': `Bearer ${AI_API_KEY}`,
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        model: "gpt-3.5-turbo",
                        messages: [{
                            role: "user",
                            content: `Ù‚Ø§Ù… Ø·Ø§Ù„Ø¨ Ø¨Ø­Ù„ Ø§Ù…ØªØ­Ø§Ù† Ø¹Ø±Ø¨ÙŠ ÙˆØ­ØµÙ„ Ø¹Ù„Ù‰ ${score} Ù…Ù† ${currentExam.length}. Ø£Ø¹Ø·Ù†ÙŠ ØªÙ‚ÙŠÙŠÙ…Ø§Ù‹ ÙˆØªØ¹Ù„ÙŠÙ‚Ø§Ù‹ ØªØ­ÙÙŠØ²ÙŠØ§Ù‹ Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©.`
                        }]
                    })
                });
                
                const aiResult = await response.json();
                const feedback = aiResult.choices[0].message.content;
                showMessage(`âœ… Ø§Ù„ØªÙ‚ÙŠÙŠÙ… Ø§Ù„Ø°ÙƒÙŠ: ${feedback}`, 'success');
                */
                
                // Ù…Ø¤Ù‚ØªØ§Ù‹: Ø±Ø³Ø§Ù„Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠØ©
                const percentage = (score / currentExam.length) * 100;
                let feedback = '';
                
                if (percentage >= 90) {
                    feedback = 'Ù…Ù…ØªØ§Ø²! Ø£Ù†Øª Ù…ØªÙ…ÙƒÙ† Ù…Ù† Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø¨Ø´ÙƒÙ„ Ø±Ø§Ø¦Ø¹. Ø§Ø³ØªÙ…Ø± ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø³ØªÙˆÙ‰! ğŸŒŸ';
                } else if (percentage >= 70) {
                    feedback = 'Ø¬ÙŠØ¯ Ø¬Ø¯Ø§Ù‹! Ù„Ø¯ÙŠÙƒ ÙÙ‡Ù… Ù‚ÙˆÙŠ Ù„Ù„ØºØ©. ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ØªØ­Ø³ÙŠÙ† Ø£ÙƒØ«Ø± Ø¨Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø©. ğŸ’ª';
                } else if (percentage >= 50) {
                    feedback = 'Ù…Ø³ØªÙˆÙ‰ Ù…Ù‚Ø¨ÙˆÙ„. ØªØ­ØªØ§Ø¬ Ù„Ù…Ø±Ø§Ø¬Ø¹Ø© Ø¨Ø¹Ø¶ Ø§Ù„Ø¯Ø±ÙˆØ³ ÙˆØ³ØªØªØ­Ø³Ù† Ø§Ù„Ù†ØªØ§Ø¦Ø¬. ğŸ“š';
                } else {
                    feedback = 'ÙŠØ­ØªØ§Ø¬ Ù„Ù„ØªØ­Ø³ÙŠÙ†. Ø±Ø§Ø¬Ø¹ Ø¯Ø±ÙˆØ³ Ø§Ù„Ø¥Ø¹Ø±Ø§Ø¨ ÙˆØ§Ù„Ø¨Ù„Ø§ØºØ© ÙˆØ­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰. ğŸ¯';
                }
                
                showMessage(`âœ… Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†! Ø¯Ø±Ø¬ØªÙƒ: ${score}/${currentExam.length} (${percentage}%)<br>${feedback}`, 'success');
                
            } catch (error) {
                console.error('AI Error:', error);
                showMessage(`Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ø§Ù…ØªØ­Ø§Ù†! Ø¯Ø±Ø¬ØªÙƒ: ${score}/${currentExam.length}`, 'success');
            }
        }
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // 8. ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…ØªØµØ¯Ø±ÙŠÙ† ÙˆØ§Ù„Ù†ØªØ§Ø¦Ø¬
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
        async function loadLeaderboard() {
            const result = await callGAS('get_leaderboard');
            const container = document.getElementById('leaderboard-content');
            
            if (!result || result.length === 0) {
                container.innerHTML = '<p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬ Ø¨Ø¹Ø¯. ÙƒÙ† Ø£ÙˆÙ„ Ø§Ù„Ù…ØªÙÙˆÙ‚ÙŠÙ†! ğŸ†</p>';
                return;
            }
            
            let html = `
                <table class="leaderboard-table">
                    <thead>
                        <tr>
                            <th>Ø§Ù„ØªØ±ØªÙŠØ¨</th>
                            <th>Ø§Ù„Ø§Ø³Ù…</th>
                            <th>Ø£Ø¹Ù„Ù‰ Ø¯Ø±Ø¬Ø©</th>
                        </tr>
                    </thead>
                    <tbody>
            `;
            
            result.forEach((item, index) => {
                const rankClass = index < 3 ? `rank-${index + 1}` : '';
                html += `
                    <tr>
                        <td class="${rankClass}">${item.rank}</td>
                        <td>${item.name || 'Ù…Ø¬Ù‡ÙˆÙ„'}</td>
                        <td>${item.bestScore || 0}</td>
                    </tr>
                `;
            });
            
            html += '</tbody></table>';
            container.innerHTML = html;
        }
        
        async function loadMyResults() {
            const email = document.getElementById('results-email').value.trim();
            
            if (!email) {
                showMessage('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ', 'error');
                return;
            }
            
            const result = await callGAS('get_results', { email });
            const container = document.getElementById('my-results');
            
            if (!result || result.length === 0) {
                container.innerHTML = '<p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬ Ù…Ø³Ø¬Ù„Ø© Ù„Ù‡Ø°Ø§ Ø§Ù„Ø¨Ø±ÙŠØ¯.</p>';
                return;
            }
            
            let html = '<h3>Ù†ØªØ§Ø¦Ø¬Ùƒ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©:</h3><div style="display: grid; gap: 15px;">';
            
            result.forEach((item, index) => {
                html += `
                    <div class="question-card">
                        <strong>${item.exam || 'Ø§Ù…ØªØ­Ø§Ù†'}</strong><br>
                        Ø§Ù„Ø¯Ø±Ø¬Ø©: ${item.degree}<br>
                        Ø§Ù„ØªØ§Ø±ÙŠØ®: ${item.date}
                    </div>
                `;
            });
            
            html += '</div>';
            container.innerHTML = html;
        }
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // 9. Ø¯ÙˆØ§Ù„ Ù…Ø³Ø§Ø¹Ø¯Ø©
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
        function isValidEmail(email) {
            const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return re.test(email);
        }
        
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        // 10. ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø©
        // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
        
        document.addEventListener('DOMContentLoaded', function() {
            // Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ GAS
            if (GAS_URL && GAS_URL !== 'Ø¶Ø¹_Ø±Ø§Ø¨Ø·_Google_Apps_Script_Ù‡Ù†Ø§') {
                fetch(GAS_URL + '?test=1')
                    .then(response => response.json())
                    .then(data => {
                        if (data.success) {
                            console.log('âœ… Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ù€ Google Apps Script Ù†Ø§Ø¬Ø­');
                        }
                    })
                    .catch(error => {
                        console.warn('âš ï¸ ØªØ£ÙƒØ¯ Ù…Ù† ØµØ­Ø© Ø±Ø§Ø¨Ø· GAS:', error);
                    });
            }
            
            // ØªØ­Ù…ÙŠÙ„ Ù„ÙˆØ­Ø© Ø§Ù„Ù…ØªØµØ¯Ø±ÙŠÙ† ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
            loadLeaderboard();
        });
    </script>
</body>
</html>
